<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WeatherX</title>
  <link rel="stylesheet" href="css/style.css" />
  <!-- Leaflet & Chart.js (use existing local bundles if you already include them) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.css"/>
  <script defer src="https://cdn.jsdelivr.net/npm/leaflet@1.9.4/dist/leaflet.js"></script>
  <script defer src="js/script.js"></script>
</head>
<body>
  <!-- Top Navbar -->
  <header class="app-header">
    <div class="header-content">
      <h1 class="app-title">WeatherX</h1>
      <nav class="nav-links" role="tablist" aria-label="Sections">
        <a class="nav-link" href="#overview" data-target="#overview" role="tab">Overview</a>
        <a class="nav-link" href="#map" data-target="#map" role="tab">Map</a>
        <a class="nav-link" href="#hourly" data-target="#hourly" role="tab">Hourly</a>
        <a class="nav-link" href="#daily" data-target="#daily" role="tab">7-Day</a>
        <a class="nav-link" href="#settings" data-target="#settings" role="tab">Settings</a>
      </nav>
      <div class="quick-actions">
        <button class="theme-toggle btn-ghost" aria-label="Theme"><span class="i i-moon"></span></button>
        <button class="unit-btn btn-ghost" data-units="metric" aria-label="Units">°C</button>
      </div>
    </div>
  </header>

  <main class="app-main">
    <!-- Search Section -->
    <section class="search-section reveal">
      <div class="search-container command-bar">
        <span class="i i-search"></span>
        <input class="search-input" type="text" placeholder="Search city… (Press Enter)" aria-label="Search city" />
        <button class="clear-btn btn-ghost" aria-label="Clear"><span class="i i-x"></span></button>
        <button class="location-btn pill" aria-label="Use current"><span class="i i-target"></span>Use current</button>
      </div>

      

             <p class="info-message" role="status" aria-live="polite">Detecting your location...</p>
    </section>

    <!-- Overview -->
    <section id="overview" class="overview-grid">
      <div class="ui-card current-weather-card skeleton">
        <div class="cw-head">
          <img class="weather-icon" alt="Weather icon" />
          <div class="cw-meta">
            <div class="location-text">—</div>
            <div class="weather-description text-subtle">—</div>
            <div class="weather-time text-subtle">—</div>
          </div>
        </div>
        <div class="cw-temp">
          <span class="temp-value">--</span><span class="temp-unit">°C</span>
          <span class="feels-temp badge">Feels like --°</span>
        </div>
      </div>

      <div class="ui-card weather-metrics skeleton">
        <div class="title">Now · Metrics</div>
        <div class="metrics-grid">
          <div class="metric-card" data-metric="humidity">
            <span class="label">Humidity</span><span class="metric-value">--%</span>
            <div class="progress-bar"><i style="--w:0%"></i></div>
          </div>
          <div class="metric-card" data-metric="wind">
            <span class="label">Wind</span><span class="metric-value">--</span>
            <div class="wind-direction"><i class="i i-arrow" style="--deg:0"></i></div>
          </div>
          <div class="metric-card" data-metric="pressure">
            <span class="label">Pressure</span><span class="metric-value">--</span>
            <div class="progress-bar"><i style="--w:0%"></i></div>
          </div>
          <div class="metric-card" data-metric="visibility">
            <span class="label">Visibility</span><span class="metric-value">--</span>
            <div class="progress-bar"><i style="--w:0%"></i></div>
          </div>
          <div class="metric-card" data-metric="uv">
            <span class="label">UV Index</span><span class="metric-value"><span class="dot ok"></span><span class="uv-level">--</span></span>
          </div>
          <div class="metric-card" data-metric="air-quality">
            <span class="label">Air Quality</span><span class="metric-value"><span class="dot ok"></span><span class="aqi-level">--</span></span>
          </div>
        </div>
      </div>

      <div class="ui-card sun-times-card skeleton">
        <div class="title">Sunrise & Sunset</div>
        <div class="sun-arc"><!-- SVG injected by JS --></div>
        <div class="sun-times">
          <div class="sunrise"><span class="label">Sunrise</span><span class="time-value">--:--</span></div>
          <div class="sunset"><span class="label">Sunset</span><span class="time-value">--:--</span></div>
        </div>
      </div>
    </section>

    <!-- Map -->
    <section id="map" class="map-section reveal">
      <div class="ui-card map-container skeleton">
        <div class="segmented" role="tablist" aria-label="Map layers">
          <button class="seg-btn active" data-layer="temp" role="tab">Temperature</button>
          <button class="seg-btn" data-layer="precip" role="tab">Precipitation</button>
          <button class="seg-btn" data-layer="wind" role="tab">Wind</button>
        </div>
        <div id="weather-map" aria-label="Weather map"></div>
        <div class="map-legend">—</div>
      </div>
    </section>

    <!-- Hourly -->
    <section id="hourly" class="reveal">
      <div class="ui-card chart-container skeleton">
        <div class="card-head">
          <div class="title">Next hours</div>
          <div class="controls">
            <button class="range-toggle btn-ghost" data-range="24h">24h</button>
            <button class="range-toggle btn-ghost" data-range="48h">48h</button>
          </div>
        </div>
        <canvas id="hourly-chart" height="220"></canvas>
      </div>
    </section>

    <!-- Daily -->
    <section id="daily" class="reveal">
      <div class="ui-card skeleton">
        <div class="title">7-Day Forecast</div>
        <div class="forecast-grid">
          <!-- .forecast-day cards generated by JS -->
        </div>
      </div>
    </section>

    <!-- Settings Section -->
    <section id="settings" class="reveal">
      <div class="ui-card">
        <div class="title">Settings</div>
        <div class="settings-grid">
          <div class="setting-group">
            <div class="group-title">Temperature Units</div>
            <div class="unit-toggle">
              <button class="unit-btn" data-units="metric">Metric (°C, m/s)</button>
              <button class="unit-btn" data-units="imperial">Imperial (°F, mph)</button>
            </div>
          </div>
          <div class="setting-group">
            <div class="group-title">Accent Color</div>
            <div class="theme-colors">
              <button class="color-btn" data-color="#4DD0E1">Cyan</button>
              <button class="color-btn" data-color="#60A5FA">Blue</button>
              <button class="color-btn" data-color="#9D7DFF">Violet</button>
              <button class="color-btn" data-color="#FF6BBA">Pink</button>
              <button class="color-btn" data-color="#A3E635">Lime</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">Powered by OpenWeather · © <span id="year"></span></footer>
</body>
</html>
